"use strict";(self.webpackChunkcodepad=self.webpackChunkcodepad||[]).push([[3304],{35086:(e,s,n)=>{n.d(s,{_:()=>t}),n(18111),n(7588);var a=n(58987),i=n(55917);function t(){0==$("#login").length&&$("body").append('\n<div class="modal fade" id="login" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog modal-dialog-centered" role="document">\n        <div class="modal-content">\n            <div class="modal-header modal-header-center">\n            <h4 class="modal-title"><span style="font-weight: normal"><span class="brand-red">Code</span><span class="me-3 brand-blue">Pad</span></span>Log In</h4>\n                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n                <div class="row">\n                    <div class="col mx-auto">\n                        <p class="text-danger text-center" id="login-msg" style="display: none;"></p>\n                        <form id="login-form">\n                            <div class="mb-2">\n                                <div class="input-group">\n                                    <span class="input-group-text"> <i class="fa fa-user"></i> </span>\n                                    <div class="form-floating">\n                                        <input id="login-username" name="username" class="form-control" placeholder="Username" type="text" minlength="2" maxlength="50" autocomplete="username" required>\n                                        <label for="login-username">Username</label>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="mb-3">\n                                <div class="input-group">\n                                    <span class="input-group-text"> <i class="fa fa-lock"></i></span>\n                                    <div class="form-floating">\n                                        <input id="login-password" class="form-control" name="password" placeholder="Password" type="password" autocomplete="current-password" required>\n                                        <label for="login-password">Password</label>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="mb-3">\n                                <button type="submit" class="btn btn-primary d-block w-100 mb-3">Login</button>\n                                <div class="text-center pb-1">\n                                    <span class="pe-2">or</span>\n                                    <a href="/oauth_login" class="btn btn-secondary"><i class="fa-brands fa-google"></i>&nbsp;Sign in with Google</a>\n                                </div>\n                            </div>\n                            <p class="text-center">Don\'t have an account? <a href="javascript:" id="login-to-signup">Sign up!</a></p>\n                            <p class="text-center" style="font-size: 11pt;"><a href="javascript:" id="login-forgot-pwd">Forgot password?</a></p>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),$("#login-msg").text(""),$("#login-to-signup").off("click"),$("#login-to-signup").click((()=>{(0,a.f)()})),$("#login-forgot-pwd").off("click"),$("#login-forgot-pwd").click(i.l),$("#login-form").off("submit"),$("#login-form").submit((e=>{const s=new FormData(e.currentTarget);return $.ajax({method:"POST",url:"/api/accounts/login",data:s,processData:!1,contentType:!1,success:()=>{window.location.reload()},error:function(e){400===e.status?$("#login-msg").show().text("Incorrect username or password."):$("#login-msg").show().text("An error occurred. Please try again.")}}),!1})),document.querySelectorAll(".modal").forEach((e=>{bootstrap.Modal.getOrCreateInstance(e).hide()})),bootstrap.Modal.getOrCreateInstance("#login").show()}},37602:(e,s,n)=>{function a(){if(!document.getElementById("recaptcha-script")){const e=document.createElement("script");e.id="recaptcha-script",e.src="https://www.google.com/recaptcha/api.js?render=6Lc-q6EiAAAAADu5eI3X-T_c2EPmFhw2bK5MJ0kB",e.async=!0,document.body.appendChild(e)}}function i(e){window.grecaptcha?e():(window.___grecaptcha_cfg=window.___grecaptcha_cfg||{},window.___grecaptcha_cfg.fns=window.___grecaptcha_cfg.fns||[],window.___grecaptcha_cfg.fns.push((()=>{e()})))}n.d(s,{C:()=>a,e:()=>i}),n(44114)},45479:(e,s,n)=>{n.d(s,{E:()=>a}),n(18111),n(7588);class a{constructor(e,s,n){this.id=e,this.title=s,this.message=n,this.onClose=()=>{}}injectDialog(){0==$(`#${this.id}`).length&&$("body").append(`\n<div class="modal fade" id="${this.id}" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog modal-dialog-centered" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h4 class="modal-title">${this.title}</h4>\n                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n                ${this.message}\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>\n            </div>\n        </div>\n    </div>\n</div>`)}show(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.injectDialog(),document.querySelectorAll(".modal").forEach((e=>{bootstrap.Modal.getOrCreateInstance(e).hide()})),bootstrap.Modal.getOrCreateInstance(`#${this.id}`).show(),$(`#${this.id}`).on("hide.bs.modal",(()=>{this.onClose()}))}}},55917:(e,s,n)=>{n.d(s,{l:()=>i}),n(18111),n(7588);const a=new(n(45479).E)("password-email-sent","Email sent",'\n<p>Check your email address to look for an email from <b>codepad@codepad.app</b>.</p>\n<p>If you have difficulties receiving email, please contact <a href="mailto:support@codepad.app">support@codepad.app</a>.</p>\n');function i(){0==$("#password-reset").length&&$("body").append('\n<div class="modal fade" id="password-reset" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog modal-dialog-centered" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h4 class="modal-title">Request to Reset Password</h4>\n                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n                <div class="row">\n                    <div class="col mx-auto">\n                        <p>\n                            You can only reset your password if there is an email address associated with your account and if you did not sign up with Google. Otherwise, create a new account or email <a href="mailto:support@codepad.app">support@codepad.app</a>.\n                        </p>\n                        <p id="password-reset-msg" class="text-danger text-center" style="display: none;"></p>\n                        <form id="password-reset-form">\n                            <div class="mb-3">\n                                <div class="input-group">\n                                    <span class="input-group-text"><i class="fa fa-user"></i></span>\n                                    <input name="username" class="form-control" placeholder="Enter your username" type="text" required>\n                                </div>\n                            </div>\n                            <div class="mb-3">\n                                <button type="submit" class="btn btn-primary d-block w-100">Send Email to Reset Password</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),$("#password-reset-form").off("submit"),$("#password-reset-form").submit((e=>{const s=new FormData(e.currentTarget);return $.ajax({method:"POST",url:"/api/accounts/request_password_reset",data:s,processData:!1,contentType:!1,success:()=>{$("#password-reset").modal("hide"),a.show()},error:function(){$("#password-reset-msg").show().text("An error occurred. Please try again.")}}),!1})),document.querySelectorAll(".modal").forEach((e=>{bootstrap.Modal.getOrCreateInstance(e).hide()})),bootstrap.Modal.getOrCreateInstance("#password-reset").show()}},58987:(e,s,n)=>{n.d(s,{f:()=>c}),n(18111),n(7588),n(14603),n(47566),n(98721);var a=n(37602),i=n(62126),t=n(35086);function o(){(0,i.BF)(document.getElementById("signup-pass"),document.getElementById("confirm-pass"))?$("#signup-confirm-pwd-error").hide():$("#signup-confirm-pwd-error").show(),l()}function l(){let e=!1;[document.getElementById("signup-pass"),document.getElementById("confirm-pass"),document.getElementById("signup-email"),document.getElementById("signup-confirm-email"),document.getElementById("signup-username")].forEach((s=>{s.classList.contains("is-invalid")&&(e=!0)})),document.getElementById("signup-submit").disabled=e}function r(){const[e,s]=(0,i.fq)(document.getElementById("signup-email"),document.getElementById("signup-confirm-email"));e?$("#signup-email-error-msg").hide():$("#signup-email-error-msg").show(),s?$("#signup-email-confirm-error-msg").hide():$("#signup-email-confirm-error-msg").show(),l()}function d(e){const s=document.getElementById("signup-username");s.classList.remove("is-valid"),s.classList.remove("is-invalid"),$("#signup-username-error-msg").hide(),!0===e?s.classList.add("is-valid"):!1===e&&(s.classList.add("is-invalid"),$("#signup-username-error-msg").show()),l()}function c(e){0==$("#signup").length&&$("body").append('\n<div class="modal fade" id="signup" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog modal-dialog-centered" role="document">\n        <div class="modal-content">\n            <div class="modal-header modal-header-center">\n                <h4 class="modal-title"><span style="font-weight: normal"><span class="brand-red">Code</span><span class="me-2 brand-blue">Pad</span></span>Sign Up</h4>\n                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n                <div class="row">\n                    <div class="col mx-auto">\n                        <p class="text-center" id="sign-up-now-text" style="display: none"></p>\n                        <form id="signup-form">\n                            <input type="hidden" name="token" id="signup-token">\n                        \n                            <div class="mb-3">\n                                <div class="input-group has-validation">\n                                    <span class="input-group-text"> <i class="fa fa-user"></i> </span>\n                                    <div class="form-floating">\n                                        <input name="username" class="form-control" placeholder="Username" type="text" minlength="2" maxlength="50" title="Usernames can only have letters, numbers, and underscores, and must begin with a letter." pattern="^[A-Za-z][A-Za-z0-9_]*$" id="signup-username" autocomplete="off" required>\n                                        <label for="signup-username">Username</label>\n                                    </div>\n                                    <div id="signup-username-error-msg" class="invalid-feedback">\n                                        Username invalid or in use. Please try a different name.\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="mb-1">\n                                <div class="input-group">\n                                    <span class="input-group-text"> <i class="fa fa-lock"></i></span>\n                                    <div class="form-floating">\n                                        <input class="form-control" name="password" placeholder="Password" type="password" id="signup-pass" minlength="6" maxlength="96" autocomplete="new-password" required>\n                                        <label for="signup-pass">Password</label>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="mb-3">\n                                <div class="input-group has-validation">\n                                    <span class="input-group-text"> <i class="fa fa-lock"></i></span>\n                                    <div class="form-floating">\n                                        <input class="form-control" name="password-confirm" placeholder="Re-enter password" id="confirm-pass" autocomplete="new-password" type="password" minlength="6" maxlength="96" required>\n                                        <label for="confirm-pass">Re-enter password</label>\n                                    </div>\n                                    <div id="signup-confirm-pwd-error" class="invalid-feedback">\n                                        Passwords don\'t match.\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="mb-1">\n                                <div class="input-group has-validation">\n                                    <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>\n                                    <div class="form-floating">\n                                        <input class="form-control" id="signup-email" name="email" placeholder="Email" type="email" maxlength="100" required>\n                                        <label for="signup-email">Email</label>\n                                    </div>\n                                    <div id="signup-email-error-msg" class="invalid-feedback">\n                                        Invalid email format.\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="mb-3">\n                                <div class="input-group has-validation">\n                                    <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>\n                                    <div class="form-floating">\n                                        <input class="form-control" id="signup-confirm-email" placeholder="Re-enter email" type="email" maxlength="100" required>\n                                        <label for="signup-confirm-email">Re-enter email</label>\n                                    </div>\n                                    <div id="signup-email-confirm-error-msg" class="invalid-feedback">\n                                        Emails don\'t match.\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="form-check pb-3 ms-3">\n                                <input type="checkbox" class="form-check-input" id="signup-agreement" name="agreement" required>\n                                <label for="signup-agreement" class="form-check-label" style="font-size: 9pt">By signing up, I agree to CodePad\'s <a href="/terms" target="_blank">terms</a> and <a href="/privacy" target="_blank">privacy policy</a>.</label>\n                            </div>\n                            \n                            <div class="mb-3">\n                                <button type="submit" class="btn btn-primary d-block w-100" id="signup-submit">Sign up</button>\n                            </div>\n                            \n                            <div class="text-center pb-3">\n                                <span class="pe-2">or</span>\n                                <a href="http://localhost:5000/oauth_login" class="btn btn-secondary"><i class="fa-brands fa-google"></i>&nbsp;Sign in with Google</a>\n                            </div>\n                            \n                            <p class="text-center">Already have an account? <a href="javascript:" id="signup-to-login">Log in</a></p>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),(0,a.C)(),l(),document.querySelectorAll(".modal").forEach((e=>{bootstrap.Modal.getOrCreateInstance(e).hide()})),bootstrap.Modal.getOrCreateInstance("#signup").show(),e?$("#sign-up-now-text").show().text(e):$("#sign-up-now-text").hide(),$("#signup-username").off("blur"),$("#signup-username").on("blur",(e=>{""!=$(e.currentTarget).val().trim()?(0,i.JL)($(e.currentTarget).val()).then(d).catch((e=>{console.error(e),alert("An error occurred. Please try again.")})):d()})),$("#signup-form").off("submit"),$("#signup-form").submit((e=>((0,a.e)((()=>{window.grecaptcha.execute("6Lc-q6EiAAAAADu5eI3X-T_c2EPmFhw2bK5MJ0kB",{action:"submit"}).then((s=>{document.getElementById("signup-token").value=s;const n=new FormData(e.currentTarget);$.ajax({method:"POST",url:"/api/accounts/signup",data:n,processData:!1,contentType:!1,success:()=>{const e=new URL(window.location.href);e.searchParams.append("firsttime",1),window.location.href=e.toString()},error:function(e){400===e.status?alert("Error: "+e.responseText):418===e.status?(document.open(),document.write(e.responseText),document.close()):alert("An error occurred. Please try again.")}})}))})),!1))),$("#signup-to-login").off("click"),$("#signup-to-login").click((()=>{(0,t._)()})),$("#signup-email, #signup-confirm-email").off("blur"),$("#signup-email, #signup-confirm-email").on("blur",r),$("#signup-pass, #confirm-pass").off("blur"),$("#signup-pass, #confirm-pass").on("blur",o)}},62126:(e,s,n)=>{n.d(s,{BF:()=>d,DT:()=>l,Gc:()=>p,JL:()=>o,KY:()=>c,fX:()=>t,fq:()=>r}),n(18111),n(7588),n(61701),n(14603),n(47566),n(98721);var a=n(60023),i=n(99418);function t(e,s){const n=Array.from(e.options).map((e=>({value:e.value,text:e.text})));s.addEventListener("input",(function(){const s=this.value.trim(),a=new RegExp(s,"gi");e.innerHTML="",n.forEach((s=>{if(s.text.match(a)){const n=document.createElement("option");n.value=s.value,n.textContent=s.text,e.appendChild(n)}}))}))}async function o(e){const s=await fetch("/api/accounts/validate_new_username",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e})});if(!s.ok)throw new Error('"/api/accounts/validated_new_username" request failed');return"valid"===await s.text()}function l(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function r(e,s){const n=[!1,!1];return l(e.value)?(e.classList.remove("is-invalid"),e.classList.add("is-valid"),n[0]=!0,e.value==s.value?(s.classList.remove("is-invalid"),s.classList.add("is-valid"),n[1]=!0):(s.classList.remove("is-valid"),s.classList.add("is-invalid"))):(e.classList.remove("is-valid"),e.classList.add("is-invalid"),s.classList.remove("is-valid"),s.classList.remove("is-invalid"),n[1]=!0),""==e.value&&(e.classList.remove("is-valid"),e.classList.remove("is-invalid"),n[0]=!0),""==s.value&&(s.classList.remove("is-valid"),s.classList.remove("is-invalid"),n[1]=!0),n}function d(e,s){const n=e.value,a=s.value;let i=!1;return n.length<6||""==n||""==a?(e.classList.remove("is-valid"),e.classList.remove("is-invalid"),s.classList.remove("is-valid"),s.classList.remove("is-invalid"),i=!0):n&&a&&n!==a?(e.classList.remove("is-valid"),e.classList.add("is-invalid"),s.classList.remove("is-valid"),s.classList.add("is-invalid")):(e.classList.add("is-valid"),e.classList.remove("is-invalid"),s.classList.add("is-valid"),s.classList.remove("is-invalid"),i=!0),i}const c=["Write something cool, but not too cool. ðŸ˜Ž We can't handle that.","Tell us your secret identity ðŸ¦¸â€â™€ï¸â€¦ or just some fun facts, whatever.","Describe yourself in 5 words. âœï¸ Or sentences. No pressure.","Insert something witty here. ðŸ§  We believe in you.","Initialize your awesomeness here. ðŸš€","Reveal your true selfâ€¦ or just make something up. ðŸ¤” We won't know.","Give us your life's highlights reel. ðŸ“½ï¸ Bonus points for plot twists.","Unleash your inner poet... or just say hi. ðŸŽ¤","Do you like pineapple on pizza? ðŸðŸ•"];function p(e){const s=a.xI.parse(e,{breaks:!0});return i.A.sanitize(s,{ALLOWED_TAGS:["p","strong","br","em","blockquote","a","ol","li","ul","code","del","ins","s","sup","sub","pre","br"]})}}}]);